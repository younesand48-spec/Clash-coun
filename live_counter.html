<!DOCTYPE html>
<html>
<head>
  <title>Compteur Clash Royale</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      text-align: center; 
      padding: 50px; 
      background: #1e1e1e; 
      color: #ffffff; 
    }
    .stats { font-size: 28px; margin-bottom: 20px; }
    .bar { font-size: 36px; }
    .humeur { font-size: 40px; margin-top: 10px; }
  </style>
</head>
<body>
  <div class="stats" id="stats">Chargement...</div>
  <div class="bar" id="bar">â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›</div>
  <div class="humeur" id="humeur">ğŸ˜</div>

  <script>
    async function fetchStats() {
      try {
        // Lien Raw permanent vers ton commit
        const res = await fetch('https://raw.githubusercontent.com/younesand48-spec/Clash-coun/12fe29c9c0852a3db81adf5614531ce3f0469944/stats.txt');
        const text = await res.text();

        // Extraire victoires et dÃ©faites
        const winMatch = text.match(/Victoires\s*:\s*(\d+)/i);
        const loseMatch = text.match(/DÃ©faites\s*:\s*(\d+)/i);
        let wins = winMatch ? parseInt(winMatch[1]) : 0;
        let loses = loseMatch ? parseInt(loseMatch[1]) : 0;
        let total = wins + loses;

        // Calcul winrate
        let rate = total > 0 ? Math.round((wins/total)*100) : 0;

        // Barre de progression (10 blocs)
        let filled = total > 0 ? Math.round((wins/total)*10) : 0;
        let empty = 10 - filled;
        let bar = 'ğŸŸ©'.repeat(filled) + 'â¬›'.repeat(empty);

        // Humeur selon winrate
        let humeur = rate > 60 ? 'ğŸ˜' : rate >= 40 ? 'ğŸ˜' : 'ğŸ˜¢';

        // Affichage
        document.getElementById('stats').innerText = `ğŸ† Victoires : ${wins} | âŒ DÃ©faites : ${loses} | ğŸ“Š Winrate : ${rate}%`;
        document.getElementById('bar').innerText = bar;
        document.getElementById('humeur').innerText = humeur;

      } catch (e) {
        document.getElementById('stats').innerText = "Erreur de connexion";
        document.getElementById('bar').innerText = "â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›";
        document.getElementById('humeur').innerText = "ğŸ˜";
      }
    }

    fetchStats();
    setInterval(fetchStats, 5000); // met Ã  jour toutes les 5 secondes
  </script>
</body>
</html>
